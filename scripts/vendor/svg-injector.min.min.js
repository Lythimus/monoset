((M,t)=>{function s(x,j,t,T){var e,G=x.getAttribute("data-src")||x.getAttribute("src");/\.svg/i.test(G)?r?-1===k.indexOf(x)&&(k.push(x),x.setAttribute("src",""),c(G,function(e){if(void 0===e||"string"==typeof e)return T(e),!1;(t=x.getAttribute("id"))&&e.setAttribute("id",t),(t=x.getAttribute("title"))&&e.setAttribute("title",t);var t=[].concat(e.getAttribute("class")||[],"injected-svg",x.getAttribute("class")||[]).join(" ");e.setAttribute("class",(t=>{for(var e={},r=(t=t.split(" ")).length,n=[];r--;)e.hasOwnProperty(t[r])||(e[t[r]]=1,n.unshift(t[r]));return n.join(" ")})(t)),(t=x.getAttribute("style"))&&e.setAttribute("style",t),t=[].filter.call(x.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)}),V.call(t,function(t){t.name&&t.value&&e.setAttribute(t.name,t.value)});for(var r=e.querySelectorAll("defs clipPath[id]"),n=0,i=r.length;n<i;n++){for(var o=r[n].id+"-"+q,a=e.querySelectorAll('[clip-path*="'+r[n].id+'"]'),s=0,l=a.length;s<l;s++)a[s].setAttribute("clip-path","url(#"+o+")");r[n].id=o}for(var u=e.querySelectorAll("defs mask[id]"),c=0,f=u.length;c<f;c++){for(var p=u[c].id+"-"+q,d=e.querySelectorAll('[mask*="'+u[c].id+'"]'),g=0,h=d.length;g<h;g++)d[g].setAttribute("mask","url(#"+p+")");u[c].id=p}e.removeAttribute("xmlns:a");for(var b,m=e.querySelectorAll("script"),v=[],y=0,A=m.length;y<A;y++)(b=m[y].getAttribute("type"))&&"application/ecmascript"!==b&&"application/javascript"!==b||(b=m[y].innerText||m[y].textContent,v.push(b),e.removeChild(m[y]));if(0<v.length&&("always"===j||"once"===j&&!E[G])){for(var w=0,S=v.length;w<S;w++)new Function(v[w])(M);E[G]=!0}x.parentNode.replaceChild(e,x),delete k[k.indexOf(x)],x=null,q++,T(e)})):(e=x.getAttribute("data-fallback")||x.getAttribute("data-png"))?(x.setAttribute("src",e),T(null)):t?(x.setAttribute("src",t+"/"+G.split("/").pop().replace(".svg",".png")),T(null)):T("This browser does not support SVG and no PNG fallback was defined."):T("Attempted to inject a file with a non-svg extension: "+G)}function e(e,t,r){var n,i=(t=t||{}).evalScripts||"always",o=t.pngFallback||!1,a=t.each;void 0!==e.length?(n=0,V.call(e,function(t){s(t,i,o,function(t){a&&"function"==typeof a&&a(t),r&&e.length===++n&&r(n)})})):e?s(e,i,o,function(t){a&&"function"==typeof a&&a(t),r&&r(1),e=null}):r&&r(0)}var i="file:"===M.location.protocol,r=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),V=Array.prototype.forEach||function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var r=this.length>>>0,n=0;n<r;++n)n in this&&t.call(e,this[n],n,this)},o={},q=0,k=[],n=[],E={},a=function(t){return t.cloneNode(!0)},l=function(t,e){n[t]=n[t]||[],n[t].push(e)},u=function(e){for(var t=0,r=n[e].length;t<r;t++)(t=>{setTimeout(function(){n[e][t](a(o[e]))},0)})(t)},c=function(t,r){if(void 0!==o[t])o[t]instanceof SVGSVGElement?r(a(o[t])):l(t,r);else{if(!M.XMLHttpRequest)return r("Browser does not support XMLHttpRequest"),!1;o[t]={},l(t,r);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(404===n.status||null===n.responseXML)return r("Unable to load SVG file: "+t),i&&r("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),r(),!1;if(!(200===n.status||i&&0===n.status))return r("There was a problem injecting the SVG: "+n.status+" "+n.statusText),!1;if(n.responseXML instanceof Document)o[t]=n.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){try{var e=(new DOMParser).parseFromString(n.responseText,"text/xml")}catch(t){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return r("Unable to parse SVG file: "+t),!1;o[t]=e.documentElement}u(t)}},n.open("GET",t),n.overrideMimeType&&n.overrideMimeType("text/xml"),n.send()}};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=e:"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof M&&(M.SVGInjector=e)})(window,document);
//# sourceMappingURL=svg-injector.min.min.js.map
